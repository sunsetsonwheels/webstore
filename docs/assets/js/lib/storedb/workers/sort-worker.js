"use strict";onmessage=a=>{const t=Object.entries(a.data.apps);switch(a.data.sort){case"alphabetical":t.sort(((a,t)=>{const e=a[1].name.toUpperCase(),s=t[1].name.toUpperCase();return e>s?1:e<s?-1:0}));break;case"popularity":a.data.downloadCounts?t.sort(((t,e)=>{const s=a.data.downloadCounts[t[1].slug],r=a.data.downloadCounts[e[1].slug];return s>r?-1:s<r?1:0})):console.warn("Not sorting!");break;case"categorical":t.sort(((a,t)=>{const e=a[1].meta.categories[0].toUpperCase(),s=t[1].meta.categories[0].toUpperCase();return e>s?1:e<s?-1:0}));break;case"ratings":a.data.ratings?t.sort(((t,e)=>{const s=a.data.ratings[t[1].slug],r=a.data.ratings[e[1].slug];return s&&r?s.average_rating>r.average_rating?-1:s.average_rating<r.average_rating?1:0:0})):console.warn("Not sorting!")}const e={};for(const a of t)e[a[0]]=a[1];postMessage(e)};