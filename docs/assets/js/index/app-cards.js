"use strict";var appCardColumn=0;const appCardsColumnElements=[document.getElementById("app-cards-column-0"),document.getElementById("app-cards-column-1"),document.getElementById("app-cards-column-2")];function addAppCard(a){appCardsColumnElements[appCardColumn].innerHTML+=`\n    <br>\n    <div id="${a.slug}" class="card">\n      <div class="card-content">\n        <div class="media">\n          <div class="media-left">\n            <figure class="image is-48x48 is-unselectable">\n              <img src="${a.icon}" alt="${a.name}">\n            </figure>\n          </div>\n          <div class="media-content">\n            <h1 class="title is-4 is-clamped">${a.name}</h1>\n            <h3 class="subtitle is-6 is-clamped">${generateReadableCategories(a.meta.categories)}</h2>\n          </div>\n        </div>\n        <div class="content is-clamped">${a.description}</div>\n      </div>\n      <footer class="card-footer">\n        <a class="card-footer-item is-unselectable app-details i18n"\n           data-app-name="${a.name}"\n           data-app-slug="${a.slug}"\n           data-i18n="info">\n          ${i18next.t("info")}\n        </a>\n        <a class="card-footer-item is-unselectable app-download i18n"\n           data-app-name="${a.name}"\n           data-i18n="download">\n           ${i18next.t("download")}\n        </a>\n        <a class="card-footer-item is-unselectable app-share i18n"\n           data-app-slug="${a.slug}"\n           data-i18n="share">\n          ${i18next.t("share")}\n        </a>\n      </footer>\n    </div>\n  `,++appCardColumn>appCardsColumnElements.length-1&&(appCardColumn=0)}async function shareApp(a){if(navigator.share)try{await navigator.share({url:a})}catch(a){console.error(a),bulmaToast.toast({message:a,type:"is-danger"})}else if(navigator.clipboard)try{await navigator.clipboard.writeText(a),bulmaToast.toast({message:i18next.t("copy-to-clipboard-success"),type:"is-success"})}catch(a){console.error(a),bulmaToast.toast({message:a,type:"is-danger"})}}const appCardsContainerElement=document.getElementById("app-cards-container");appCardsContainerElement.onclick=async a=>{const e=a.target.classList;e.contains("app-details")?(setAppDetailsModalDetails(StoreDbAPI.db.apps.objects[a.target.getAttribute("data-app-name")]),appDetailsModal.controller.show()):e.contains("app-download")?(setAppDownloadModalDetails(StoreDbAPI.db.apps.objects[a.target.getAttribute("data-app-name")]),appDownloadsModal.controller.show()):e.contains("app-share")&&await shareApp(`${window.location.origin}/#${a.target.getAttribute("data-app-slug")}`)};