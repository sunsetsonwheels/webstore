"use strict";const sortSelect=document.getElementById("sort-select");sortSelect.onchange=async a=>{sortSelect.disabled=!0,reloadButton.disabled=!0,langSelect.disabled=!0,searchInput.disabled=!0,searchButton.disabled=!0,exitSearchButton.disabled=!0,reloadButton.classList.add("is-loading");const e=document.getElementById("sort-icon");switch(e.classList.remove("fa-sort-alpha-down","fa-fire-alt","fa-tags","fa-sort-numeric-down-alt"),a.target.value){case"alphabetical":e.classList.add("fa-sort-alpha-down");break;case"popularity":e.classList.add("fa-fire-alt");break;case"categorical":e.classList.add("fa-tags");break;case"ratings":e.classList.add("fa-sort-numeric-down-alt")}for(const a of appCardsColumnElements)a.innerHTML="";appCardColumn=0;try{let e;e=isSearching?await StoreDbAPI.searchApps(searchInput.value):await listAppsByCategory(currentSelectedCategory,a.target.value);var t=0;for(const a in e)addAppCard(e[a]),t++;document.getElementById("data-total-apps-label").innerText=t,reloadButton.classList.remove("is-loading"),sortSelect.disabled=!1,reloadButton.disabled=!1,langSelect.disabled=!1,searchInput.disabled=!1,searchButton.disabled=!1,isSearching&&(exitSearchButton.disabled=!1);try{const a=window.location.hash.split("#")[1];void 0!==a?(document.querySelector(`.app-details[data-app-slug="${a}"]`).click(),window.location.hash=a):window.location.hash=""}catch(a){window.location.hash="",console.error(a),bulmaToast.toast({message:a,type:"is-danger"})}}catch(a){console.log(a),bulmaToast.toast({message:a,type:"is-danger"}),sortSelect.disabled=!1,reloadButton.disabled=!1,langSelect.disabled=!1,reloadButton.classList.remove("is-loading")}};